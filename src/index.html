<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Leitner Flashcard System - Learn with spaced repetition">
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="FlashCards">
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link rel="icon" type="image/png" href="icons/icon-192.png" sizes="192x192">

    <!-- Pico CSS for clean, minimal styling -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">

    <link rel="stylesheet" href="styles.css">
    <title>FlashCards - Leitner System</title>
</head>

<body>
    <nav>
        <ul>
            <li><strong>üìö FlashCards</strong></li>
        </ul>
        <ul>
            <li><button id="updateBtn" style="display: none;" class="contrast">Update Available</button></li>
        </ul>
    </nav>

    <main class="container">
        <!-- Deck Selection View -->
        <section id="deckSelectionView" style="display: none;">
            <h2>Select a Deck</h2>

            <div id="defaultDecksContainer">
                <h3>Default Decks</h3>
                <div id="defaultDecksList" class="grid"></div>
            </div>

            <hr>

            <div id="uploadSection">
                <h3>Upload Your Deck</h3>
                <input type="file" id="csvFileInput" accept=".csv" aria-label="Upload CSV deck file">
                <small>Upload a CSV file with two columns: front and back (no headers required)</small>
            </div>

            <hr>

            <div id="userDecksContainer" style="display: none;">
                <h3>My Decks</h3>
                <div id="userDecksList" class="grid"></div>
            </div>
        </section>

        <!-- Deck Stats View -->
        <section id="deckStatsView" style="display: none;">
            <div class="deck-header">
                <div>
                    <h2 id="deckNameDisplay"></h2>
                    <small id="deckSourceDisplay"></small>
                </div>
                <div class="deck-actions">
                    <button id="backToDeckBtn">‚Üê Back to Decks</button>
                </div>
            </div>

            <div class="stats-grid" id="statsGrid">
                <div class="stat-box">
                    <div class="stat-number" id="totalCards">0</div>
                    <div class="stat-label">Total Cards</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number" id="dueCards">0</div>
                    <div class="stat-label">Due Today</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number" id="learnedCards">0</div>
                    <div class="stat-label">Learned</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number" id="newCards">0</div>
                    <div class="stat-label">New</div>
                </div>
            </div>

            <div class="deck-actions">
                <button id="startStudyBtn" class="primary">Start Study Session</button>
                <button id="printPdfBtn">Print to PDF</button>
                <button id="resetDeckBtn" class="contrast">Reset Progress</button>
                <button id="deleteDeckBtn" class="contrast">Delete Deck</button>
            </div>
        </section>

        <!-- Study View -->
        <section id="studyView" style="display: none;">
            <div class="study-header">
                <h2 id="studyDeckName"></h2>
                <div class="study-progress">
                    <div id="cardCounter">0 / 0</div>
                    <div id="sessionStats"></div>
                </div>
            </div>

            <div class="card-container">
                <div class="flashcard" id="flashcard">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <div id="cardQuestion"></div>
                            <small style="color: #888;">Click to reveal answer</small>
                        </div>
                        <div class="flashcard-back" style="display: none;">
                            <div id="cardAnswer"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="study-actions">
                <button id="revealBtn" class="primary">Reveal Answer</button>
                <button id="againBtn" style="display: none;" class="contrast">Again (0)</button>
                <button id="hardBtn" style="display: none;">Hard (1)</button>
                <button id="goodBtn" style="display: none;" class="primary">Good (3)</button>
                <button id="easyBtn" style="display: none;" class="primary">Easy (5)</button>
            </div>

            <div class="study-footer">
                <button id="quitStudyBtn">‚Üê Quit</button>
            </div>
        </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script src="app.js"></script>
</body>

</html>