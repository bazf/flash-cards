/* ============================================================================
   FLASHCARDS APP - Bulma Theme
   Clean, modern UI with Bulma CSS framework
   ============================================================================ */

:root {
    /* Bulma-inspired colors */
    --color-bg: #f5f5f5;
    --color-surface: #ffffff;
    --color-surface-alt: #fafafa;
    --color-border: #dbdbdb;

    /* Text */
    --color-text: #363636;
    --color-text-secondary: #7a7a7a;
    --color-text-muted: #b5b5b5;

    /* Bulma accent */
    --color-primary: #00d1b2;
    --color-primary-dark: #00c4a7;
    --color-info: #3e8ed0;
    --color-success: #48c78e;
    --color-warning: #ffe08a;
    --color-danger: #f14668;

    /* Shadows */
    --shadow-sm: 0 0.5em 1em -0.125em rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.02);
    --shadow-md: 0 0.5em 1.5em -0.125em rgba(10, 10, 10, 0.12), 0 0 0 1px rgba(10, 10, 10, 0.02);
    --shadow-lg: 0 1em 2em -0.125em rgba(10, 10, 10, 0.15), 0 0 0 1px rgba(10, 10, 10, 0.02);

    /* Radii */
    --radius: 6px;
    --radius-lg: 12px;
}

/* ============================================================================
   BASE STYLES
   ============================================================================ */

body {
    font-family: 'Inter', BlinkMacSystemFont, -apple-system, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    background: var(--color-bg);
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Navbar tweaks */
.navbar.is-fixed-top {
    border-bottom: 1px solid var(--color-border);
}

.navbar-item {
    font-weight: 500;
}

/* Brand icon styling */
.brand-icon {
    margin-right: 0.5rem;
    flex-shrink: 0;
}

#homeBrand {
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

/* Container max-width */
.section>.container {
    max-width: 900px;
}

/* ============================================================================
   BOX / SURFACE STYLING
   ============================================================================ */

.box {
    background: var(--color-surface);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    border: 1px solid rgba(0, 0, 0, 0.04);
}

/* ============================================================================
   DECK TILES
   ============================================================================ */

.deck-tile {
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: 1.25rem;
    cursor: pointer;
    transition: all 0.2s ease;
    height: 100%;
}

.deck-tile:hover {
    border-color: var(--color-primary);
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
}

.deck-tile .deck-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-text);
    margin-bottom: 0.25rem;
}

.deck-tile .deck-meta {
    font-size: 0.85rem;
    color: var(--color-text-secondary);
    margin-bottom: 0.75rem;
}

.deck-tile .deck-kpis {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.5rem;
}

.deck-tile .kpi {
    background: var(--color-surface-alt);
    border-radius: var(--radius);
    padding: 0.6rem 0.5rem;
    text-align: center;
}

.deck-tile .kpi .value {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--color-primary);
    line-height: 1.2;
}

.deck-tile .kpi .small {
    font-size: 0.7rem;
    color: var(--color-text-muted);
    margin-top: 0.15rem;
}

/* ============================================================================
   STAT BOXES
   ============================================================================ */

.stat-box {
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: 1.5rem 1rem;
    text-align: center;
    box-shadow: var(--shadow-sm);
}

.stat-number {
    font-size: 2.25rem;
    font-weight: 700;
    color: var(--color-primary);
    line-height: 1.1;
}

.stat-label {
    font-size: 0.8rem;
    color: var(--color-text-secondary);
    margin-top: 0.5rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.025em;
}

/* ============================================================================
   FLASHCARD
   ============================================================================ */

.card-container {
    display: flex;
    justify-content: center;
    padding: 1.5rem 0;
}

.flashcard {
    width: 100%;
    max-width: 640px;
    height: clamp(280px, 48vh, 440px);
    perspective: 1200px;
    cursor: pointer;
    border: 0;
    padding: 0;
    background: transparent;
    display: block;
    -webkit-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
}

.flashcard:focus-visible {
    outline: 3px solid var(--color-primary);
    outline-offset: 4px;
    border-radius: var(--radius-lg);
}

.flashcard-inner {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.flashcard.is-flipped .flashcard-inner {
    transform: rotateY(180deg);
}

.flashcard-face {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 2rem 1.5rem;
    border-radius: var(--radius-lg);
    backface-visibility: hidden;
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    box-shadow: var(--shadow-lg);
}

.flashcard-front {
    background: var(--color-surface);
}

.flashcard-back {
    transform: rotateY(180deg);
    background: linear-gradient(180deg, #e8f8f5, var(--color-surface));
    border-color: var(--color-primary);
}

.flashcard-content {
    font-size: clamp(1rem, 2.2vw, 1.35rem);
    line-height: 1.7;
    color: var(--color-text);
    max-width: 55ch;
    word-break: break-word;
    overflow-wrap: anywhere;
}

.flashcard-footer-hint {
    margin-top: 1.5rem;
    font-size: 0.75rem;
    color: var(--color-text-muted);
    font-weight: 500;
}

/* ============================================================================
   BUTTONS TWEAKS
   ============================================================================ */

.buttons.is-centered {
    justify-content: center;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.button {
    font-family: inherit;
    font-weight: 500;
    border-radius: var(--radius);
    transition: all 0.15s ease;
}

.button.is-primary {
    background-color: var(--color-primary);
    border-color: transparent;
}

.button.is-primary:hover {
    background-color: var(--color-primary-dark);
}

.button.is-ghost {
    color: var(--color-text-secondary);
}

.button.is-ghost:hover {
    background: var(--color-surface-alt);
    color: var(--color-text);
}

/* ============================================================================
   FILE INPUT
   ============================================================================ */

.file-name {
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* ============================================================================
   TAGS
   ============================================================================ */

.tag.is-light {
    background: var(--color-surface-alt);
    color: var(--color-text-secondary);
}

/* ============================================================================
   RESPONSIVE
   ============================================================================ */

@media (max-width: 768px) {
    .section {
        padding: 1.5rem 1rem;
    }

    .level.is-mobile {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.75rem;
    }

    .level-right {
        margin-top: 0;
    }

    .flashcard {
        height: clamp(260px, 52vh, 400px);
    }

    .flashcard-face {
        padding: 1.5rem 1rem;
    }

    .stat-box {
        padding: 1rem 0.75rem;
    }

    .stat-number {
        font-size: 1.75rem;
    }

    .buttons {
        flex-direction: column;
        width: 100%;
    }

    .buttons .button {
        width: 100%;
    }

    #studyActions .button,
    #viewerActions .button {
        width: auto;
        flex: 1;
    }
}

/* ============================================================================
   PRINT STYLES
   ============================================================================ */

@media print {
    body {
        background: white;
    }

    nav,
    #uploadSection,
    #userDecksContainer,
    #viewerActions,
    #studyActions,
    #modeHint,
    #modeBadge,
    #sessionStats,
    #cardCounter,
    .button {
        display: none !important;
    }

    .flashcard {
        break-inside: avoid;
        page-break-inside: avoid;
        border: 1px solid #ccc;
        box-shadow: none;
    }

    .section {
        padding: 0;
    }
}

/* ============================================================================
   ACCESSIBILITY - Reduced motion
   ============================================================================ */

@media (prefers-reduced-motion: reduce) {
    .flashcard-inner {
        transition: none;
    }

    .deck-tile {
        transition: none;
    }
}

/* ============================================================================
   DARK MODE
   ============================================================================ */

@media (prefers-color-scheme: dark) {
    :root {
        --color-bg: #1a1a2e;
        --color-surface: #16213e;
        --color-surface-alt: #1f2b4a;
        --color-border: #2d3a5a;
        --color-text: #e5e5e5;
        --color-text-secondary: #a0a0a0;
        --color-text-muted: #6b6b6b;
    }

    body {
        background: var(--color-bg);
        color: var(--color-text);
    }

    .navbar.is-white {
        background: var(--color-surface) !important;
        border-color: var(--color-border) !important;
    }

    .navbar-item {
        color: var(--color-text) !important;
    }

    .box {
        background: var(--color-surface);
        border-color: var(--color-border);
    }

    .deck-tile {
        background: var(--color-surface);
        border-color: var(--color-border);
    }

    .stat-box {
        background: var(--color-surface);
        border-color: var(--color-border);
    }

    .flashcard-face {
        background: var(--color-surface);
        border-color: var(--color-border);
        color: var(--color-text);
    }

    .flashcard-back {
        background: linear-gradient(180deg, #1a3a3a, var(--color-surface));
        border-color: var(--color-primary);
    }

    .title,
    .subtitle {
        color: var(--color-text) !important;
    }

    .subtitle.has-text-grey {
        color: var(--color-text-secondary) !important;
    }

    .button.is-light {
        background: var(--color-surface-alt);
        border-color: var(--color-border);
        color: var(--color-text);
    }

    .button.is-light:hover {
        background: var(--color-border);
    }

    .button.is-ghost {
        color: var(--color-text-secondary);
    }

    .tag.is-light {
        background: var(--color-surface-alt);
        color: var(--color-text-secondary);
    }

    .file-cta,
    .file-name {
        background: var(--color-surface-alt);
        border-color: var(--color-border);
        color: var(--color-text);
    }

    .help {
        color: var(--color-text-muted);
    }
}

/* ============================================================================
   UTILITY: HIDDEN CLASS (Bulma uses is-hidden)
   ============================================================================ */

.is-hidden {
    display: none !important;
}