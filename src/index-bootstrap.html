<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–§–ª–µ—à-–∫–∞—Ä—Ç–∫–∏ –∑–∞ —Å–∏—Å—Ç–µ–º–æ—é –õ–µ–π—Ç–Ω–µ—Ä–∞ ‚Äî –Ω–∞–≤—á–∞–Ω–Ω—è –∑ —ñ–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–∏–º –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è–º">
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="–§–ª–µ—à-–∫–∞—Ä—Ç–∫–∏">
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link rel="icon" type="image/png" href="icons/icon-192.png" sizes="192x192">

    <!-- Bootstrap for responsive, polished UI -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <link rel="stylesheet" href="styles.css">
    <title>–§–ª–µ—à-–∫–∞—Ä—Ç–∫–∏ ‚Äî –°–∏—Å—Ç–µ–º–∞ –õ–µ–π—Ç–Ω–µ—Ä–∞</title>
</head>

<body>
    <nav class="navbar navbar-expand-lg sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#" id="homeBrand">üìö –§–ª–µ—à-–∫–∞—Ä—Ç–∫–∏</a>
            <div class="ms-auto">
                <button id="updateBtn" class="btn btn-warning btn-sm d-none" type="button">–î–æ—Å—Ç—É–ø–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è</button>
            </div>
        </div>
    </nav>

    <main class="container py-4">
        <!-- Deck Selection View -->
        <section id="deckSelectionView" class="view d-none">
            <div class="d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-2 mb-3">
                <div>
                    <h1 class="h3 mb-1">–ö–æ–ª–æ–¥–∏</h1>
                    <div class="text-body-secondary small">–ü—Ä–æ–≥—Ä–µ—Å –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ —É –≤–∞—à–æ–º—É –±—Ä–∞—É–∑–µ—Ä—ñ
                        (LocalStorage).</div>
                </div>
            </div>

            <div id="defaultDecksContainer" class="card app-surface shadow-sm mb-3">
                <div class="card-body">
                    <h2 class="h5 mb-3">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –∫–æ–ª–æ–¥–∏</h2>
                    <div id="defaultDecksList" class="row g-3"></div>
                </div>
            </div>

            <div id="uploadSection" class="card app-surface shadow-sm mb-3">
                <div class="card-body">
                    <h2 class="h5 mb-2">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ CSV</h2>
                    <input type="file" id="csvFileInput" accept=".csv" class="form-control"
                        aria-label="–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∫–æ–ª–æ–¥—É CSV">
                    <div class="form-text">CSV: 2 –∫–æ–ª–æ–Ω–∫–∏ (–ø–∏—Ç–∞–Ω–Ω—è, –≤—ñ–¥–ø–æ–≤—ñ–¥—å). –ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–µ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–∏–π. –ü—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è
                        –ª–∞–ø–∫–∏ —Ç–∞ UTF-8.</div>
                </div>
            </div>

            <div id="userDecksContainer" class="card app-surface shadow-sm d-none">
                <div class="card-body">
                    <h2 class="h5 mb-3">–ú–æ—ó –∫–æ–ª–æ–¥–∏</h2>
                    <div id="userDecksList" class="row g-3"></div>
                </div>
            </div>
        </section>

        <!-- Deck Stats View -->
        <section id="deckStatsView" class="view d-none">
            <div class="d-flex flex-column flex-lg-row justify-content-between align-items-lg-center gap-3 mb-3">
                <div>
                    <h2 class="h4 mb-1" id="deckNameDisplay">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è‚Ä¶</h2>
                    <div class="text-body-secondary small" id="deckSourceDisplay"></div>
                </div>
                <div class="d-flex flex-wrap gap-2">
                    <button id="backToDeckBtn" class="btn btn-outline-secondary" type="button">‚Üê –î–æ –∫–æ–ª–æ–¥</button>
                </div>
            </div>

            <div class="row g-3 mb-3" id="statsGrid">
                <div class="col-6 col-lg-3">
                    <div class="stat-box">
                        <div class="stat-number" id="totalCards">0</div>
                        <div class="stat-label">–í—Å—å–æ–≥–æ</div>
                    </div>
                </div>
                <div class="col-6 col-lg-3">
                    <div class="stat-box">
                        <div class="stat-number" id="dueCards">0</div>
                        <div class="stat-label">–î–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è</div>
                    </div>
                </div>
                <div class="col-6 col-lg-3">
                    <div class="stat-box">
                        <div class="stat-number" id="learnedCards">0</div>
                        <div class="stat-label">–í–∏–≤—á–µ–Ω–æ</div>
                    </div>
                </div>
                <div class="col-6 col-lg-3">
                    <div class="stat-box">
                        <div class="stat-number" id="newCards">0</div>
                        <div class="stat-label">–ù–æ–≤—ñ</div>
                    </div>
                </div>
            </div>

            <div class="d-flex flex-wrap gap-2">
                <button id="startStudyBtn" class="btn btn-primary" type="button">–ü–æ—á–∞—Ç–∏ –Ω–∞–≤—á–∞–Ω–Ω—è</button>
                <button id="viewCardsBtn" class="btn btn-outline-primary" type="button">–ü–µ—Ä–µ–≥–ª—è–¥ –∫–∞—Ä—Ç–æ–∫</button>
                <button id="printPdfBtn" class="btn btn-outline-secondary" type="button">–ï–∫—Å–ø–æ—Ä—Ç —É PDF</button>
                <button id="resetDeckBtn" class="btn btn-outline-danger" type="button">–°–∫–∏–Ω—É—Ç–∏ –ø—Ä–æ–≥—Ä–µ—Å</button>
                <button id="deleteDeckBtn" class="btn btn-danger" type="button">–í–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–ª–æ–¥—É</button>
            </div>
        </section>

        <!-- Study View -->
        <section id="studyView" class="view d-none">
            <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center gap-2 mb-3">
                <div>
                    <div class="d-flex align-items-center gap-2">
                        <h2 class="h4 mb-0" id="studyDeckName">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è‚Ä¶</h2>
                        <span id="modeBadge" class="badge text-bg-primary">–ù–∞–≤—á–∞–Ω–Ω—è</span>
                    </div>
                    <div class="text-body-secondary small" id="modeHint">–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –∫–∞—Ä—Ç–∫—É –∞–±–æ –∫–Ω–æ–ø–∫—É, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏
                        –≤—ñ–¥–ø–æ–≤—ñ–¥—å.</div>
                </div>
                <div class="d-flex flex-wrap gap-2 align-items-center">
                    <span class="badge text-bg-light" id="cardCounter">0 / 0</span>
                    <span class="badge text-bg-light" id="sessionStats"></span>
                </div>
            </div>

            <div class="card-container">
                <button class="flashcard" id="flashcard" type="button"
                    aria-label="–§–ª–µ—à-–∫–∞—Ä—Ç–∫–∞ (–Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å —â–æ–± –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–∏)">
                    <div class="flashcard-inner">
                        <div class="flashcard-face flashcard-front">
                            <div class="flashcard-content" id="cardQuestion"></div>
                            <div class="flashcard-footer-hint">–¢–æ—Ä–∫–Ω—ñ—Ç—å—Å—è / –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å, —â–æ–± –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–∏</div>
                        </div>
                        <div class="flashcard-face flashcard-back">
                            <div class="flashcard-content" id="cardAnswer"></div>
                            <div class="flashcard-footer-hint">–û—Ü—ñ–Ω—ñ—Ç—å —Å–µ–±–µ (0‚Äì5) –∞–±–æ –ø–µ—Ä–µ–π–¥—ñ—Ç—å –¥–∞–ª—ñ</div>
                        </div>
                    </div>
                </button>
            </div>

            <div class="study-actions" id="studyActions">
                <button id="revealBtn" class="btn btn-primary" type="button">–ü–æ–∫–∞–∑–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å</button>
                <button id="againBtn" class="btn btn-outline-danger" type="button">–ó–Ω–æ–≤—É (0)</button>
                <button id="hardBtn" class="btn btn-outline-secondary" type="button">–°–∫–ª–∞–¥–Ω–æ (1)</button>
                <button id="goodBtn" class="btn btn-success" type="button">–î–æ–±—Ä–µ (3)</button>
                <button id="easyBtn" class="btn btn-success" type="button">–õ–µ–≥–∫–æ (5)</button>
            </div>

            <div class="study-actions d-none" id="viewerActions">
                <button id="prevBtn" class="btn btn-outline-secondary" type="button">‚Üê –ü–æ–ø–µ—Ä–µ–¥–Ω—è</button>
                <button id="nextBtn" class="btn btn-outline-secondary" type="button">–ù–∞—Å—Ç—É–ø–Ω–∞ ‚Üí</button>
                <button id="shuffleBtn" class="btn btn-outline-primary" type="button">–ü–µ—Ä–µ–º—ñ—à–∞—Ç–∏</button>
            </div>

            <div class="text-center mt-3">
                <button id="quitStudyBtn" class="btn btn-link" type="button">‚Üê –ù–∞–∑–∞–¥</button>
            </div>
        </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="app.js"></script>
</body>

</html>